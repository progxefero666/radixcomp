generator client {
    provider = "prisma-client-js"
    output   = "../generated/prisma"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

// ----------------- MODELS -----------------

model Codelang {
    id          Int     @id
    name        String  @unique @db.VarChar(20)
    description String  @db.VarChar(150)
    applications Application[]
    @@map("codelang")
}

model Apptype {
    id            Int           @id
    name          String        @unique @db.VarChar(50)
    description   String?       @default("undefined") @db.VarChar(255)
    applications  Application[]
    @@map("apptype")
}

model Application {
    id            Int       @id
    apptype       Apptype   @relation(fields: [apptypeId], references: [id], onDelete: Cascade)
    apptypeId     Int
    codelang      Codelang  @relation(fields: [codelangId], references: [id], onDelete: Cascade)
    codelangId    Int
    name          String    @unique @db.VarChar(50)
    description   String?   @default("undefined") @db.VarChar(255)
    repository    String?   @default("undefined") @db.VarChar(250)
    author        String?   @db.VarChar(100)
    osystem       String?   @db.VarChar(100)
    appurl        String?   @db.VarChar(500)
    apppath       String?   @db.VarChar(500)
    localdev      Boolean   @default(true)
    usedocker     Boolean   @default(false)
    controlusers  Boolean   @default(false)
    useui         Boolean   @default(false)
    useagents     Boolean   @default(false)
    consumedb     Boolean   @default(false)
    consumeapi    Boolean   @default(false)
    consumeai     Boolean   @default(false)
    exposedb      Boolean   @default(false)
    exposeapi     Boolean   @default(false)
    updated       DateTime  @updatedAt
    @@map("application")
}
